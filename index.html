<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Modern Code Viewer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Highlight.js – Dracula theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/dracula.min.css">
  
  <!-- Custom CSS για μοντέρνα dark mode εμφάνιση, minimal scrollbar και menu -->
  <style>
    /* Global resets & βασικές ρυθμίσεις */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #121212;
      color: #e0e0e0;
      line-height: 1.6;
      padding-top: 70px; /* χώρο για το fixed menu */
      scroll-behavior: smooth;
    }
    
    /* Minimal modern scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #121212;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #444;
      border-radius: 4px;
    }
    /* Firefox */
    html {
      scrollbar-width: thin;
      scrollbar-color: #444 #121212;
    }
    
    /* Fixed Navigation Menu */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #1e1e1e;
      padding: 10px 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
      z-index: 100;
    }
    nav ul {
      display: flex;
      justify-content: center;
      list-style: none;
    }
    nav ul li {
      margin: 0 15px;
    }
    nav ul li a {
      text-decoration: none;
      color: #e0e0e0;
      font-weight: bold;
      transition: color 0.3s;
    }
    nav ul li a:hover {
      color: #ff4081;
    }
    
    /* Container για τα code blocks */
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    .code-container {
      background-color: #1e1e1e;
      border: 1px solid #333;
      border-radius: 8px;
      margin: 30px 0;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    .code-container h2 {
      background-color: #333;
      padding: 15px;
      color: #fff;
      font-size: 1.2rem;
    }
    .code-container pre {
      padding: 15px;
      overflow-x: auto;
      background-color: #1e1e1e;
      font-size: 0.9rem;
    }
    pre code {
      display: block;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    
    /* Style για το toggle κουμπί */
    .toggle-btn {
      display: block;
      width: 100%;
      padding: 10px;
      background-color: #333;
      color: #fff;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      text-align: center;
      transition: background 0.3s;
    }
    .toggle-btn:hover {
      background-color: #444;
    }
  </style>
</head>
<body>
  <!-- Navigation Menu -->
  <nav>
    <ul>
      <li><a href="#section1">Prezomenoi_OG.plugin.js</a></li>
      <li><a href="#section2">discord_change.plugin.js</a></li>
      <li><a href="#section3">Early_SimplethemeV3.theme.css</a></li>
      <li><a href="#section4">SimplethemeV2.theme.css</a></li>
    </ul>
  </nav>
  
  <div class="container">
    <!-- Section 1: Prezomenoi_OG.plugin.js (πλήρης προβολή) -->
    <div class="code-container" id="section1">
      <h2>Prezomenoi_OG.plugin.js</h2>
      <pre><code id="code1" class="language-javascript">// Φόρτωση κώδικα...</code></pre>
    </div>
    
    <!-- Section 2: discord_change.plugin.js (πλήρης προβολή) -->
    <div class="code-container" id="section2">
      <h2>discord_change.plugin.js</h2>
      <pre><code id="code2" class="language-javascript">// Φόρτωση κώδικα...</code></pre>
    </div>
    
    <!-- Section 3: Early_SimplethemeV3.theme.css (προβολή μέχρι 36 γραμμές αρχικά) -->
    <div class="code-container" id="section3">
      <h2>Early_SimplethemeV3.theme.css</h2>
      <pre><code id="code3" class="language-css">/* Φόρτωση κώδικα... */</code></pre>
      <!-- Το κουμπί toggle θα προστεθεί δυναμικά αν χρειάζεται -->
    </div>
    
    <!-- Section 4: SimplethemeV2.theme.css (προβολή μέχρι 83 γραμμές αρχικά) -->
    <div class="code-container" id="section4">
      <h2>SimplethemeV2.theme.css</h2>
      <pre><code id="code4" class="language-css">/* Φόρτωση κώδικα... */</code></pre>
      <!-- Το κουμπί toggle θα προστεθεί δυναμικά αν χρειάζεται -->
    </div>
  </div>
  
  <!-- Highlight.js script -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  
  <!-- JavaScript για φόρτωση των αρχείων και toggle για τον πλήρη/συμπιεσμένο κώδικα -->
  <script>
    /**
     * Φορτώνει το αρχείο από το URL και, αν έχει δοθεί,
     * το μειώνει (truncate) στις πρώτες truncateLines γραμμές.
     *
     * @param {string} url       Το URL του raw αρχείου.
     * @param {string} elementId Το ID του <code> στοιχείου όπου θα εμφανιστεί ο κώδικας.
     * @param {string} language  Η γλώσσα που χρησιμοποιείται (π.χ., 'language-css', 'language-javascript').
     * @param {number} [truncateLines]  Προαιρετικά, ο αριθμός γραμμών που θέλουμε αρχικά να εμφανίζονται.
     */
    function loadCode(url, elementId, language, truncateLines) {
      fetch(url)
        .then(response => {
          if (!response.ok) {
            throw new Error('Error fetching: ' + url);
          }
          return response.text();
        })
        .then(data => {
          const codeElement = document.getElementById(elementId);
          const originalCode = data;
          const applyHighlight = () => { hljs.highlightElement(codeElement); };

          if (truncateLines && originalCode.split('\n').length > truncateLines) {
            const lines = originalCode.split('\n');
            const truncatedCode = lines.slice(0, truncateLines).join('\n') + "\n...";
            codeElement.textContent = truncatedCode;
            applyHighlight();

            // Δημιουργία κουμπιού toggle για πλήρη εμφάνιση
            const btn = document.createElement("button");
            btn.textContent = "Show More";
            btn.className = "toggle-btn";
            let isTruncated = true;
            btn.addEventListener("click", function() {
              if (isTruncated) {
                codeElement.textContent = originalCode;
                btn.textContent = "Show Less";
                isTruncated = false;
              } else {
                codeElement.textContent = truncatedCode;
                btn.textContent = "Show More";
                isTruncated = true;
              }
              applyHighlight();
            });
            // Εισαγωγή του κουμπιού μετά το <pre> (δηλαδή μέσα στο code container)
            codeElement.parentNode.parentNode.appendChild(btn);
          } else {
            codeElement.textContent = originalCode;
            applyHighlight();
          }
        })
        .catch(error => {
          document.getElementById(elementId).textContent = "Error loading code: " + error;
        });
    }
    
    // Ορισμός των URLs προς τα αρχεία στο GitHub
    const url1 = "https://raw.githubusercontent.com/thomasthanos/1st-theme/main/Discord%20DEV/Plugins/Prezomenoi_OG.plugin.js";
    const url2 = "https://raw.githubusercontent.com/thomasthanos/1st-theme/main/Discord%20DEV/Plugins/discord_change.plugin.js";
    const url3 = "https://raw.githubusercontent.com/thomasthanos/1st-theme/main/Discord%20DEV/Themes/Early_SimplethemeV3.theme.css";
    const url4 = "https://raw.githubusercontent.com/thomasthanos/1st-theme/main/Discord%20DEV/Themes/SimplethemeV2.theme.css";
    
    // Φόρτωση των αρχείων:
    // Για τα .js αρχεία: πλήρης εμφάνιση
    loadCode(url1, 'code1', 'language-javascript'); 
    loadCode(url2, 'code2', 'language-javascript');
    
    // Για τα .css αρχεία: εμφάνιση μέχρι συγκεκριμένες γραμμές
    loadCode(url3, 'code3', 'language-css', 36);
    loadCode(url4, 'code4', 'language-css', 83);
  </script>
</body>
</html>
